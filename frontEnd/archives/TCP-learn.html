<!DOCTYPE html>
        <html>
            <head>
                <meta charset="utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
                <title>TCP-learn</title>
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.css">
                <link rel="stylesheet" href="../lib/highlight-github.css">
                <link rel="stylesheet" href="../lib/markdown.css">
                <style>
                    #toc_container {
                        position: fixed;
                        top: 10px;
                        width: 250px;
                        right: 10px;
                        word-break: break-word;
                    }
                </style>
            </head>
            <body class="ui main text container">
                <a href="/post">返回文章首页</a>
                <a href="https://maicss.com//Users/mac/Documents/code/js/blog2/archives/TCP-learn.html#disqus_thread">count</a>
                <h1 id="http-链接">http 链接</h1><div><i class="tags icon"></i><div class="ui horizontal label">HTTP</div> <div class="ui horizontal label">TCP</div></div>
<p>date: 2017-03-06</p>
<p>http随手记。</p>
<h2 id="node重用tcp链接">node重用TCP链接</h2><p>为了重用TCP链接，http模块包含了一个默认的客户端代理对象http.globalAgent.</p>
<p>默认情况下，通过ClientRequest对象对同一个服务端发起的HTTP请求最多可以创建5个链接，后续的请求需要等待某个请求完成服务后才能f发出。它的实质是一个链接池。</p>
<p>Agent对象的sockets和requests属性分别表示当前链接池中正在使用的链接数和处于等待状态对链接数，在业务中监视这两个值有助于发现业务发繁忙程度。</p>
<p>webSocket和HTTP一样，都是基于TCP实现的。但是WebSocket能够实现在只建立一个TCP链接的情况下实现双向通信。相对HTTP有更小的报头。但是在现代浏览器中，WebSocket链接的建立是用HTTP握手实现的。</p>

                <p><a href="../MD/TCP-learn.md">查看本文Markdown版本</a></p>
                <div id="disqus_thread"></div>
                <script>
                
                /**
                *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
                
                var disqus_config = function () {
                this.page.url = 'https://maicss.com//Users/mac/Documents/code/js/blog2/archives/TCP-learn.html';  // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = 'TCP-learn'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                };
                
                (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = '//https-www-maicss-com.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <script id="dsq-count-scr" src="//https-www-maicss-com.disqus.com/count.js" async></script>
                <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-70116787-3', 'auto');
                ga('send', 'pageview');

                </script>
            </body>
        </html>